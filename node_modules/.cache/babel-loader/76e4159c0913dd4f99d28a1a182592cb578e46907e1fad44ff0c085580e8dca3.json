{"ast":null,"code":"import { useState as E, useRef as T, useCallback as c, useEffect as i } from \"react\";\nimport { useDebounce as g } from \"./useDebounce.js\";\nimport { useZoomContext as A } from \"../../contexts/ZoomContext.js\";\nimport \"react/jsx-runtime\";\nimport \"../types.js\";\nimport \"../../th_TH-d627cd51.js\";\nimport \"../appConsole.js\";\nimport \"../../contexts/InitialStateContext.js\";\nimport \"../../contexts/RPDocumentContext.js\";\nimport \"./useLoadPdf.js\";\nimport \"pdfjs-dist\";\nimport \"../getThumbnailViewport.js\";\nimport \"../../contexts/ConfigContext.js\";\nimport \"../../contexts/DocumentPasswordContext.js\";\nimport \"./usePdfProperties.js\";\nimport \"../convertPdfDate.js\";\nimport \"../formatFileSize.js\";\nimport \"../constants.js\";\nimport \"../getZoomLevel.js\";\nimport \"../../contexts/LayoutContainerContext.js\";\nimport \"../../contexts/ViewModeContext.js\";\nimport \"../../contexts/RotationContext.js\";\nimport \"../../contexts/GlobalCurrentPage.js\";\nimport \"../../contexts/EventCallbackContext.js\";\nconst V = o => {\n  const {\n      currentZoom: L,\n      setZoomLevel: w\n    } = A(),\n    [D, m] = E(0),\n    d = g(D, 100),\n    [s, b] = E(!1),\n    r = T(null),\n    u = c(e => {\n      m(e ? t => t + 3 : t => t - 3);\n    }, []),\n    a = c(e => {\n      if (!e.ctrlKey) return;\n      e.preventDefault();\n      const t = e.deltaY < 0;\n      u(t);\n    }, [u]);\n  i(() => {\n    if (d) {\n      const e = Math.round(L * 100 + d);\n      m(0), w(e > 25 ? e : 25);\n    }\n  }, [d]);\n  const p = (e, t) => {\n      const n = e.clientX - t.clientX,\n        l = e.clientY - t.clientY;\n      return Math.sqrt(n * n + l * l);\n    },\n    f = c(e => {\n      if (!s || e.touches.length !== 2) return;\n      const t = p(e.touches[0], e.touches[1]);\n      r.current = t, e.preventDefault();\n    }, [s]),\n    h = c(() => {\n      r.current = null;\n    }, []),\n    v = c(e => {\n      if (!s || e.touches.length !== 2 || r.current === null) return;\n      const t = p(e.touches[0], e.touches[1]),\n        n = t - r.current,\n        l = Math.abs(n) > 5,\n        S = n > 0;\n      l && (u(S), r.current = t, e.preventDefault());\n    }, [u, s]),\n    y = () => {\n      document.activeElement instanceof HTMLElement && document.activeElement.blur();\n    };\n  i(() => {\n    if (s) {\n      document.body.style.touchAction = \"pan-x pan-y\";\n      return;\n    }\n    document.body.style.touchAction = \"\";\n  }, [s]), i(() => {\n    const e = () => {\n      const t = document.activeElement,\n        n = !!(t != null && t.closest('[data-rp=\"container\"]'));\n      b(n);\n    };\n    return window.addEventListener(\"focusin\", e), window.addEventListener(\"focusout\", e), e(), () => {\n      window.removeEventListener(\"focusin\", e), window.removeEventListener(\"focusout\", e);\n    };\n  }, []), i(() => {\n    if (!o) return;\n    const e = t => {\n      o.contains(t.target) || y();\n    };\n    return document.addEventListener(\"scroll\", e), () => {\n      document.removeEventListener(\"scroll\", e);\n    };\n  }, [o]), i(() => {\n    if (o) return o.addEventListener(\"wheel\", a, {\n      passive: !1\n    }), o.addEventListener(\"touchstart\", f, {\n      passive: !1\n    }), o.addEventListener(\"touchmove\", v, {\n      passive: !1\n    }), o.addEventListener(\"touchend\", h, {\n      passive: !1\n    }), () => {\n      o.removeEventListener(\"wheel\", a), o.removeEventListener(\"touchstart\", f), o.removeEventListener(\"touchmove\", v), o.removeEventListener(\"touchend\", h);\n    };\n  }, [o, a, f, v, h]);\n};\nexport { V as usePinch };","map":{"version":3,"names":["useState","E","useRef","T","useCallback","c","useEffect","i","useDebounce","g","useZoomContext","A","V","o","currentZoom","L","setZoomLevel","w","D","m","d","s","b","r","u","e","t","a","ctrlKey","preventDefault","deltaY","Math","round","p","n","clientX","l","clientY","sqrt","f","touches","length","current","h","v","abs","S","y","document","activeElement","HTMLElement","blur","body","style","touchAction","closest","window","addEventListener","removeEventListener","contains","target","passive","usePinch"],"sources":["C:/OSPanel/domains/MLP/node_modules/@pdf-viewer/react/dist/utils/hooks/usePinch.js"],"sourcesContent":["import { useState as E, useRef as T, useCallback as c, useEffect as i } from \"react\";\nimport { useDebounce as g } from \"./useDebounce.js\";\nimport { useZoomContext as A } from \"../../contexts/ZoomContext.js\";\nimport \"react/jsx-runtime\";\nimport \"../types.js\";\nimport \"../../th_TH-d627cd51.js\";\nimport \"../appConsole.js\";\nimport \"../../contexts/InitialStateContext.js\";\nimport \"../../contexts/RPDocumentContext.js\";\nimport \"./useLoadPdf.js\";\nimport \"pdfjs-dist\";\nimport \"../getThumbnailViewport.js\";\nimport \"../../contexts/ConfigContext.js\";\nimport \"../../contexts/DocumentPasswordContext.js\";\nimport \"./usePdfProperties.js\";\nimport \"../convertPdfDate.js\";\nimport \"../formatFileSize.js\";\nimport \"../constants.js\";\nimport \"../getZoomLevel.js\";\nimport \"../../contexts/LayoutContainerContext.js\";\nimport \"../../contexts/ViewModeContext.js\";\nimport \"../../contexts/RotationContext.js\";\nimport \"../../contexts/GlobalCurrentPage.js\";\nimport \"../../contexts/EventCallbackContext.js\";\nconst V = (o) => {\n  const { currentZoom: L, setZoomLevel: w } = A(), [D, m] = E(0), d = g(D, 100), [s, b] = E(!1), r = T(null), u = c((e) => {\n    m(e ? (t) => t + 3 : (t) => t - 3);\n  }, []), a = c(\n    (e) => {\n      if (!e.ctrlKey)\n        return;\n      e.preventDefault();\n      const t = e.deltaY < 0;\n      u(t);\n    },\n    [u]\n  );\n  i(() => {\n    if (d) {\n      const e = Math.round(L * 100 + d);\n      m(0), w(e > 25 ? e : 25);\n    }\n  }, [d]);\n  const p = (e, t) => {\n    const n = e.clientX - t.clientX, l = e.clientY - t.clientY;\n    return Math.sqrt(n * n + l * l);\n  }, f = c(\n    (e) => {\n      if (!s || e.touches.length !== 2)\n        return;\n      const t = p(e.touches[0], e.touches[1]);\n      r.current = t, e.preventDefault();\n    },\n    [s]\n  ), h = c(() => {\n    r.current = null;\n  }, []), v = c(\n    (e) => {\n      if (!s || e.touches.length !== 2 || r.current === null)\n        return;\n      const t = p(e.touches[0], e.touches[1]), n = t - r.current, l = Math.abs(n) > 5, S = n > 0;\n      l && (u(S), r.current = t, e.preventDefault());\n    },\n    [u, s]\n  ), y = () => {\n    document.activeElement instanceof HTMLElement && document.activeElement.blur();\n  };\n  i(() => {\n    if (s) {\n      document.body.style.touchAction = \"pan-x pan-y\";\n      return;\n    }\n    document.body.style.touchAction = \"\";\n  }, [s]), i(() => {\n    const e = () => {\n      const t = document.activeElement, n = !!(t != null && t.closest('[data-rp=\"container\"]'));\n      b(n);\n    };\n    return window.addEventListener(\"focusin\", e), window.addEventListener(\"focusout\", e), e(), () => {\n      window.removeEventListener(\"focusin\", e), window.removeEventListener(\"focusout\", e);\n    };\n  }, []), i(() => {\n    if (!o)\n      return;\n    const e = (t) => {\n      o.contains(t.target) || y();\n    };\n    return document.addEventListener(\"scroll\", e), () => {\n      document.removeEventListener(\"scroll\", e);\n    };\n  }, [o]), i(() => {\n    if (o)\n      return o.addEventListener(\"wheel\", a, { passive: !1 }), o.addEventListener(\"touchstart\", f, { passive: !1 }), o.addEventListener(\"touchmove\", v, { passive: !1 }), o.addEventListener(\"touchend\", h, { passive: !1 }), () => {\n        o.removeEventListener(\"wheel\", a), o.removeEventListener(\"touchstart\", f), o.removeEventListener(\"touchmove\", v), o.removeEventListener(\"touchend\", h);\n      };\n  }, [o, a, f, v, h]);\n};\nexport {\n  V as usePinch\n};\n"],"mappings":"AAAA,SAASA,QAAQ,IAAIC,CAAC,EAAEC,MAAM,IAAIC,CAAC,EAAEC,WAAW,IAAIC,CAAC,EAAEC,SAAS,IAAIC,CAAC,QAAQ,OAAO;AACpF,SAASC,WAAW,IAAIC,CAAC,QAAQ,kBAAkB;AACnD,SAASC,cAAc,IAAIC,CAAC,QAAQ,+BAA+B;AACnE,OAAO,mBAAmB;AAC1B,OAAO,aAAa;AACpB,OAAO,yBAAyB;AAChC,OAAO,kBAAkB;AACzB,OAAO,uCAAuC;AAC9C,OAAO,qCAAqC;AAC5C,OAAO,iBAAiB;AACxB,OAAO,YAAY;AACnB,OAAO,4BAA4B;AACnC,OAAO,iCAAiC;AACxC,OAAO,2CAA2C;AAClD,OAAO,uBAAuB;AAC9B,OAAO,sBAAsB;AAC7B,OAAO,sBAAsB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,oBAAoB;AAC3B,OAAO,0CAA0C;AACjD,OAAO,mCAAmC;AAC1C,OAAO,mCAAmC;AAC1C,OAAO,qCAAqC;AAC5C,OAAO,wCAAwC;AAC/C,MAAMC,CAAC,GAAIC,CAAC,IAAK;EACf,MAAM;MAAEC,WAAW,EAAEC,CAAC;MAAEC,YAAY,EAAEC;IAAE,CAAC,GAAGN,CAAC,CAAC,CAAC;IAAE,CAACO,CAAC,EAAEC,CAAC,CAAC,GAAGlB,CAAC,CAAC,CAAC,CAAC;IAAEmB,CAAC,GAAGX,CAAC,CAACS,CAAC,EAAE,GAAG,CAAC;IAAE,CAACG,CAAC,EAAEC,CAAC,CAAC,GAAGrB,CAAC,CAAC,CAAC,CAAC,CAAC;IAAEsB,CAAC,GAAGpB,CAAC,CAAC,IAAI,CAAC;IAAEqB,CAAC,GAAGnB,CAAC,CAAEoB,CAAC,IAAK;MACvHN,CAAC,CAACM,CAAC,GAAIC,CAAC,IAAKA,CAAC,GAAG,CAAC,GAAIA,CAAC,IAAKA,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC,EAAE,EAAE,CAAC;IAAEC,CAAC,GAAGtB,CAAC,CACVoB,CAAC,IAAK;MACL,IAAI,CAACA,CAAC,CAACG,OAAO,EACZ;MACFH,CAAC,CAACI,cAAc,CAAC,CAAC;MAClB,MAAMH,CAAC,GAAGD,CAAC,CAACK,MAAM,GAAG,CAAC;MACtBN,CAAC,CAACE,CAAC,CAAC;IACN,CAAC,EACD,CAACF,CAAC,CACJ,CAAC;EACDjB,CAAC,CAAC,MAAM;IACN,IAAIa,CAAC,EAAE;MACL,MAAMK,CAAC,GAAGM,IAAI,CAACC,KAAK,CAACjB,CAAC,GAAG,GAAG,GAAGK,CAAC,CAAC;MACjCD,CAAC,CAAC,CAAC,CAAC,EAAEF,CAAC,CAACQ,CAAC,GAAG,EAAE,GAAGA,CAAC,GAAG,EAAE,CAAC;IAC1B;EACF,CAAC,EAAE,CAACL,CAAC,CAAC,CAAC;EACP,MAAMa,CAAC,GAAGA,CAACR,CAAC,EAAEC,CAAC,KAAK;MAClB,MAAMQ,CAAC,GAAGT,CAAC,CAACU,OAAO,GAAGT,CAAC,CAACS,OAAO;QAAEC,CAAC,GAAGX,CAAC,CAACY,OAAO,GAAGX,CAAC,CAACW,OAAO;MAC1D,OAAON,IAAI,CAACO,IAAI,CAACJ,CAAC,GAAGA,CAAC,GAAGE,CAAC,GAAGA,CAAC,CAAC;IACjC,CAAC;IAAEG,CAAC,GAAGlC,CAAC,CACLoB,CAAC,IAAK;MACL,IAAI,CAACJ,CAAC,IAAII,CAAC,CAACe,OAAO,CAACC,MAAM,KAAK,CAAC,EAC9B;MACF,MAAMf,CAAC,GAAGO,CAAC,CAACR,CAAC,CAACe,OAAO,CAAC,CAAC,CAAC,EAAEf,CAAC,CAACe,OAAO,CAAC,CAAC,CAAC,CAAC;MACvCjB,CAAC,CAACmB,OAAO,GAAGhB,CAAC,EAAED,CAAC,CAACI,cAAc,CAAC,CAAC;IACnC,CAAC,EACD,CAACR,CAAC,CACJ,CAAC;IAAEsB,CAAC,GAAGtC,CAAC,CAAC,MAAM;MACbkB,CAAC,CAACmB,OAAO,GAAG,IAAI;IAClB,CAAC,EAAE,EAAE,CAAC;IAAEE,CAAC,GAAGvC,CAAC,CACVoB,CAAC,IAAK;MACL,IAAI,CAACJ,CAAC,IAAII,CAAC,CAACe,OAAO,CAACC,MAAM,KAAK,CAAC,IAAIlB,CAAC,CAACmB,OAAO,KAAK,IAAI,EACpD;MACF,MAAMhB,CAAC,GAAGO,CAAC,CAACR,CAAC,CAACe,OAAO,CAAC,CAAC,CAAC,EAAEf,CAAC,CAACe,OAAO,CAAC,CAAC,CAAC,CAAC;QAAEN,CAAC,GAAGR,CAAC,GAAGH,CAAC,CAACmB,OAAO;QAAEN,CAAC,GAAGL,IAAI,CAACc,GAAG,CAACX,CAAC,CAAC,GAAG,CAAC;QAAEY,CAAC,GAAGZ,CAAC,GAAG,CAAC;MAC1FE,CAAC,KAAKZ,CAAC,CAACsB,CAAC,CAAC,EAAEvB,CAAC,CAACmB,OAAO,GAAGhB,CAAC,EAAED,CAAC,CAACI,cAAc,CAAC,CAAC,CAAC;IAChD,CAAC,EACD,CAACL,CAAC,EAAEH,CAAC,CACP,CAAC;IAAE0B,CAAC,GAAGA,CAAA,KAAM;MACXC,QAAQ,CAACC,aAAa,YAAYC,WAAW,IAAIF,QAAQ,CAACC,aAAa,CAACE,IAAI,CAAC,CAAC;IAChF,CAAC;EACD5C,CAAC,CAAC,MAAM;IACN,IAAIc,CAAC,EAAE;MACL2B,QAAQ,CAACI,IAAI,CAACC,KAAK,CAACC,WAAW,GAAG,aAAa;MAC/C;IACF;IACAN,QAAQ,CAACI,IAAI,CAACC,KAAK,CAACC,WAAW,GAAG,EAAE;EACtC,CAAC,EAAE,CAACjC,CAAC,CAAC,CAAC,EAAEd,CAAC,CAAC,MAAM;IACf,MAAMkB,CAAC,GAAGA,CAAA,KAAM;MACd,MAAMC,CAAC,GAAGsB,QAAQ,CAACC,aAAa;QAAEf,CAAC,GAAG,CAAC,EAAER,CAAC,IAAI,IAAI,IAAIA,CAAC,CAAC6B,OAAO,CAAC,uBAAuB,CAAC,CAAC;MACzFjC,CAAC,CAACY,CAAC,CAAC;IACN,CAAC;IACD,OAAOsB,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEhC,CAAC,CAAC,EAAE+B,MAAM,CAACC,gBAAgB,CAAC,UAAU,EAAEhC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAE,MAAM;MAC/F+B,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEjC,CAAC,CAAC,EAAE+B,MAAM,CAACE,mBAAmB,CAAC,UAAU,EAAEjC,CAAC,CAAC;IACrF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC,EAAElB,CAAC,CAAC,MAAM;IACd,IAAI,CAACM,CAAC,EACJ;IACF,MAAMY,CAAC,GAAIC,CAAC,IAAK;MACfb,CAAC,CAAC8C,QAAQ,CAACjC,CAAC,CAACkC,MAAM,CAAC,IAAIb,CAAC,CAAC,CAAC;IAC7B,CAAC;IACD,OAAOC,QAAQ,CAACS,gBAAgB,CAAC,QAAQ,EAAEhC,CAAC,CAAC,EAAE,MAAM;MACnDuB,QAAQ,CAACU,mBAAmB,CAAC,QAAQ,EAAEjC,CAAC,CAAC;IAC3C,CAAC;EACH,CAAC,EAAE,CAACZ,CAAC,CAAC,CAAC,EAAEN,CAAC,CAAC,MAAM;IACf,IAAIM,CAAC,EACH,OAAOA,CAAC,CAAC4C,gBAAgB,CAAC,OAAO,EAAE9B,CAAC,EAAE;MAAEkC,OAAO,EAAE,CAAC;IAAE,CAAC,CAAC,EAAEhD,CAAC,CAAC4C,gBAAgB,CAAC,YAAY,EAAElB,CAAC,EAAE;MAAEsB,OAAO,EAAE,CAAC;IAAE,CAAC,CAAC,EAAEhD,CAAC,CAAC4C,gBAAgB,CAAC,WAAW,EAAEb,CAAC,EAAE;MAAEiB,OAAO,EAAE,CAAC;IAAE,CAAC,CAAC,EAAEhD,CAAC,CAAC4C,gBAAgB,CAAC,UAAU,EAAEd,CAAC,EAAE;MAAEkB,OAAO,EAAE,CAAC;IAAE,CAAC,CAAC,EAAE,MAAM;MAC3NhD,CAAC,CAAC6C,mBAAmB,CAAC,OAAO,EAAE/B,CAAC,CAAC,EAAEd,CAAC,CAAC6C,mBAAmB,CAAC,YAAY,EAAEnB,CAAC,CAAC,EAAE1B,CAAC,CAAC6C,mBAAmB,CAAC,WAAW,EAAEd,CAAC,CAAC,EAAE/B,CAAC,CAAC6C,mBAAmB,CAAC,UAAU,EAAEf,CAAC,CAAC;IACxJ,CAAC;EACL,CAAC,EAAE,CAAC9B,CAAC,EAAEc,CAAC,EAAEY,CAAC,EAAEK,CAAC,EAAED,CAAC,CAAC,CAAC;AACrB,CAAC;AACD,SACE/B,CAAC,IAAIkD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { useState as l, useCallback as x, useEffect as C } from \"react\";\nimport { getHighlightOptionsWithDefaults as H, findMatches as M } from \"../highlight.js\";\nimport \"../charators.js\";\nconst k = s => {\n  const [n, a] = l(void 0),\n    [u, r] = l([]),\n    m = x(async t => {\n      if (!t) return {};\n      const i = t.numPages,\n        e = {};\n      for (let o = 1; o <= i; o++) {\n        const g = await t.getPage(o);\n        e[o.toString()] = await g.getTextContent();\n      }\n      return e;\n    }, []),\n    f = async t => {\n      a(t);\n    },\n    c = () => {\n      r([]), a(void 0);\n    };\n  return C(() => {\n    s && m(s).then(t => {\n      let i = [];\n      for (const {\n        keyword: e,\n        highlightColor: o,\n        options: g\n      } of n) {\n        if (!e) continue;\n        const p = H(g);\n        for (const h of Object.keys(t)) {\n          const y = M([e], t[h], Number(h) - 1, p).map((b, w) => ({\n            ...b,\n            page: Number(h),\n            pageMatchIdx: w,\n            color: o,\n            keyword: e\n          }));\n          i = [...i, ...y];\n        }\n      }\n      r(i);\n    }).catch(() => {\n      c();\n    });\n  }, [n, s]), {\n    highlight: f,\n    clear: c,\n    highlightMatches: u,\n    highlightKeywords: n\n  };\n};\nexport { k as useHighlight };","map":{"version":3,"names":["useState","l","useCallback","x","useEffect","C","getHighlightOptionsWithDefaults","H","findMatches","M","k","s","n","a","u","r","m","t","i","numPages","e","o","g","getPage","toString","getTextContent","f","c","then","keyword","highlightColor","options","p","h","Object","keys","y","Number","map","b","w","page","pageMatchIdx","color","catch","highlight","clear","highlightMatches","highlightKeywords","useHighlight"],"sources":["C:/OSPanel/domains/MLP/node_modules/@pdf-viewer/react/dist/utils/hooks/useHighlight.js"],"sourcesContent":["import { useState as l, useCallback as x, useEffect as C } from \"react\";\nimport { getHighlightOptionsWithDefaults as H, findMatches as M } from \"../highlight.js\";\nimport \"../charators.js\";\nconst k = (s) => {\n  const [n, a] = l(void 0), [u, r] = l([]), m = x(async (t) => {\n    if (!t)\n      return {};\n    const i = t.numPages, e = {};\n    for (let o = 1; o <= i; o++) {\n      const g = await t.getPage(o);\n      e[o.toString()] = await g.getTextContent();\n    }\n    return e;\n  }, []), f = async (t) => {\n    a(t);\n  }, c = () => {\n    r([]), a(void 0);\n  };\n  return C(() => {\n    s && m(s).then((t) => {\n      let i = [];\n      for (const { keyword: e, highlightColor: o, options: g } of n) {\n        if (!e)\n          continue;\n        const p = H(g);\n        for (const h of Object.keys(t)) {\n          const y = M(\n            [e],\n            t[h],\n            Number(h) - 1,\n            p\n          ).map((b, w) => ({\n            ...b,\n            page: Number(h),\n            pageMatchIdx: w,\n            color: o,\n            keyword: e\n          }));\n          i = [...i, ...y];\n        }\n      }\n      r(i);\n    }).catch(() => {\n      c();\n    });\n  }, [n, s]), {\n    highlight: f,\n    clear: c,\n    highlightMatches: u,\n    highlightKeywords: n\n  };\n};\nexport {\n  k as useHighlight\n};\n"],"mappings":"AAAA,SAASA,QAAQ,IAAIC,CAAC,EAAEC,WAAW,IAAIC,CAAC,EAAEC,SAAS,IAAIC,CAAC,QAAQ,OAAO;AACvE,SAASC,+BAA+B,IAAIC,CAAC,EAAEC,WAAW,IAAIC,CAAC,QAAQ,iBAAiB;AACxF,OAAO,iBAAiB;AACxB,MAAMC,CAAC,GAAIC,CAAC,IAAK;EACf,MAAM,CAACC,CAAC,EAAEC,CAAC,CAAC,GAAGZ,CAAC,CAAC,KAAK,CAAC,CAAC;IAAE,CAACa,CAAC,EAAEC,CAAC,CAAC,GAAGd,CAAC,CAAC,EAAE,CAAC;IAAEe,CAAC,GAAGb,CAAC,CAAC,MAAOc,CAAC,IAAK;MAC3D,IAAI,CAACA,CAAC,EACJ,OAAO,CAAC,CAAC;MACX,MAAMC,CAAC,GAAGD,CAAC,CAACE,QAAQ;QAAEC,CAAC,GAAG,CAAC,CAAC;MAC5B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIH,CAAC,EAAEG,CAAC,EAAE,EAAE;QAC3B,MAAMC,CAAC,GAAG,MAAML,CAAC,CAACM,OAAO,CAACF,CAAC,CAAC;QAC5BD,CAAC,CAACC,CAAC,CAACG,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAMF,CAAC,CAACG,cAAc,CAAC,CAAC;MAC5C;MACA,OAAOL,CAAC;IACV,CAAC,EAAE,EAAE,CAAC;IAAEM,CAAC,GAAG,MAAOT,CAAC,IAAK;MACvBJ,CAAC,CAACI,CAAC,CAAC;IACN,CAAC;IAAEU,CAAC,GAAGA,CAAA,KAAM;MACXZ,CAAC,CAAC,EAAE,CAAC,EAAEF,CAAC,CAAC,KAAK,CAAC,CAAC;IAClB,CAAC;EACD,OAAOR,CAAC,CAAC,MAAM;IACbM,CAAC,IAAIK,CAAC,CAACL,CAAC,CAAC,CAACiB,IAAI,CAAEX,CAAC,IAAK;MACpB,IAAIC,CAAC,GAAG,EAAE;MACV,KAAK,MAAM;QAAEW,OAAO,EAAET,CAAC;QAAEU,cAAc,EAAET,CAAC;QAAEU,OAAO,EAAET;MAAE,CAAC,IAAIV,CAAC,EAAE;QAC7D,IAAI,CAACQ,CAAC,EACJ;QACF,MAAMY,CAAC,GAAGzB,CAAC,CAACe,CAAC,CAAC;QACd,KAAK,MAAMW,CAAC,IAAIC,MAAM,CAACC,IAAI,CAAClB,CAAC,CAAC,EAAE;UAC9B,MAAMmB,CAAC,GAAG3B,CAAC,CACT,CAACW,CAAC,CAAC,EACHH,CAAC,CAACgB,CAAC,CAAC,EACJI,MAAM,CAACJ,CAAC,CAAC,GAAG,CAAC,EACbD,CACF,CAAC,CAACM,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,MAAM;YACf,GAAGD,CAAC;YACJE,IAAI,EAAEJ,MAAM,CAACJ,CAAC,CAAC;YACfS,YAAY,EAAEF,CAAC;YACfG,KAAK,EAAEtB,CAAC;YACRQ,OAAO,EAAET;UACX,CAAC,CAAC,CAAC;UACHF,CAAC,GAAG,CAAC,GAAGA,CAAC,EAAE,GAAGkB,CAAC,CAAC;QAClB;MACF;MACArB,CAAC,CAACG,CAAC,CAAC;IACN,CAAC,CAAC,CAAC0B,KAAK,CAAC,MAAM;MACbjB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;EACJ,CAAC,EAAE,CAACf,CAAC,EAAED,CAAC,CAAC,CAAC,EAAE;IACVkC,SAAS,EAAEnB,CAAC;IACZoB,KAAK,EAAEnB,CAAC;IACRoB,gBAAgB,EAAEjC,CAAC;IACnBkC,iBAAiB,EAAEpC;EACrB,CAAC;AACH,CAAC;AACD,SACEF,CAAC,IAAIuC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}